/*!
 *
 * Vanilla-DataTables
 * Copyright (c) 2015-2017 Karl Saunders (http://mobius.ovh)
 * Licensed under MIT (http://www.opensource.org/licenses/mit-license.php)
 *
 * Version: 1.2.2
 *
 */
!function(t,e){var s="DataTable";"function"==typeof define&&define.amd?define([],e(s)):"object"==typeof exports?module.exports=e(s):t[s]=e(s)}(this,function(t){"use strict";function e(t,e){return this.dt=t,this.columns=e,this}function s(t,e){var s={perPage:10,perPageSelect:[5,10,15,20,25],sortable:!0,searchable:!0,nextPrev:!0,firstLast:!1,prevText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",truncatePager:!0,pagerDelta:2,fixedColumns:!0,fixedHeight:!1,header:!0,footer:!1,labels:{placeholder:"Search...",perPage:"{select} entries per page",noRows:"No entries found",info:"Showing {start} to {end} of {rows} entries"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}};if(this.initialized=!1,this.utils=i,this.options=i.extend(s,e),!t)throw new Error("The plugin requires a table as the first parameter");if("string"==typeof t){var a=t;if(!(t=document.querySelector(t)))throw new Error("The element '"+a+"' can not be found.")}if("table"!==t.tagName.toLowerCase())throw new Error("The selected element is not a table.");if(this.options.header||(this.options.sortable=!1),null===t.tHead&&(!this.options.data||this.options.data&&!this.options.data.headings)&&(this.options.sortable=!1),t.tBodies.length&&!t.tBodies[0].rows.length&&this.options.data&&!this.options.data.rows)throw new Error("You seem to be using the data option, but you've not defined any rows.");this.table=t,this.init()}var i={extend:function(t,e){var s;for(s in e)e.hasOwnProperty(s)&&("[object Object]"===Object.prototype.toString.call(t[s])?i.extend(t[s],e[s]):t[s]=e[s]);return t},each:function(t,e,s){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(s,i,t[i],t);else for(var a=0,n=t.length;a<n;a++)e.call(s,a,t[a],t)},css:function(t,e,s){var a=t&&t.style,n="[object Object]"===Object.prototype.toString.call(e);if(a){if(void 0===s&&!n)return s=window.getComputedStyle(t,""),void 0===e?s:s[e];n?i.each(e,function(t,e){t in a||(t="-webkit-"+t),a[t]=e+("string"==typeof e?"":"opacity"===t?"":"px")}):(e in a||(e="-webkit-"+e),a[e]=s+("string"==typeof s?"":"opacity"===e?"":"px"))}},createElement:function(t,e){var s=document,i=s.createElement(t);if(e&&"object"==typeof e){var a;for(a in e)"html"===a?i.innerHTML=e[a]:"text"===a?i.appendChild(s.createTextNode(e[a])):i.setAttribute(a,e[a])}return i},createFragment:function(){return document.createDocumentFragment()},hasClass:function(t,e){return t.classList?t.classList.contains(e):!!t.className&&!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){i.hasClass(t,e)||(t.classList?t.classList.add(e):t.className=t.className.trim()+" "+e)},removeClass:function(t,e){i.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," "))},append:function(t,e){return t&&e&&t.appendChild(e)},closest:function(t,e){return t&&t!==document.body&&(e(t)?t:i.closest(t.parentNode,e))},on:function(t,e,s){t.addEventListener(e,s,!1)},off:function(t,e,s){t.removeEventListener(e,s)},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isInt:function(t){return!isNaN(t)},isJson:function(t){var e=!1;try{e=JSON.parse(t)}catch(t){return!1}return!(null===e||!i.isArray(e)&&!i.isObject(e))&&e},isDate:function(t){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t))return!1;var e=t.split("/"),s=parseInt(e[1],10),i=parseInt(e[0],10),a=parseInt(e[2],10);if(a<1e3||a>3e3||0==i||i>12)return!1;var n=[31,28,31,30,31,30,31,31,30,31,30,31];return(a%400==0||a%100!=0&&a%4==0)&&(n[1]=29),s>0&&s<=n[i-1]},getBoundingRect:function(t){var e=window,s=document,i=s.body,a=t.getBoundingClientRect(),n=void 0!==e.pageXOffset?e.pageXOffset:(s.documentElement||i.parentNode||i).scrollLeft,r=void 0!==e.pageYOffset?e.pageYOffset:(s.documentElement||i.parentNode||i).scrollTop;return{bottom:a.bottom+r,height:a.height,left:a.left+n,right:a.right+n,top:a.top+r,width:a.width}},preventDefault:function(t){if((t=t||window.event).preventDefault)return t.preventDefault()},includes:function(t,e){return t.indexOf(e)>-1},button:function(t,e,s){return i.createElement("li",{class:t,html:'<a href="#" data-page="'+e+'">'+s+"</a>"})},flush:function(t,e){if(t instanceof NodeList)i.each(t,function(t,s){i.flush(s,e)});else if(e)for(;t.hasChildNodes();)t.removeChild(t.firstChild);else t.innerHTML=""}},a=function(){var t=this.options,e="";if(t.data&&u.call(this),this.body=this.table.tBodies[0],this.head=this.table.tHead,this.foot=this.table.tFoot,this.body||(this.body=i.createElement("tbody"),this.table.appendChild(this.body)),this.hasRows=this.body.rows.length>0,!this.head){var s=i.createElement("thead"),a=i.createElement("tr");this.hasRows&&(i.each(this.body.rows[0].cells,function(t,e){i.append(a,i.createElement("th"))}),i.append(s,a)),this.head=s,this.table.insertBefore(this.head,this.body)}if(this.hasHeadings=this.head.rows.length>0,this.hasHeadings&&(this.header=this.head.rows[0],this.headings=[].slice.call(this.header.cells)),t.header||this.head&&this.table.removeChild(this.table.tHead),t.footer?this.head&&!this.foot&&(this.foot=i.createElement("tfoot",{html:this.head.innerHTML}),this.table.appendChild(this.foot)):this.foot&&this.table.removeChild(this.table.tFoot),this.wrapper=i.createElement("div",{class:"dataTable-wrapper"}),e+="<div class='dataTable-top'>",e+=t.layout.top,e+="</div>",e+="<div class='dataTable-container'></div>",e+="<div class='dataTable-bottom'>",e+=t.layout.bottom,e+="</div>",e=e.replace("{info}","<div class='dataTable-info'></div>"),t.perPageSelect){var h="<div class='dataTable-dropdown'><label>";h+=t.labels.perPage,h+="</label></div>";var o=i.createElement("select",{class:"dataTable-selector"});i.each(t.perPageSelect,function(e,s){var i=s===t.perPage,a=new Option(s,s,i,i);o.add(a)}),h=h.replace("{select}",o.outerHTML),e=e.replace("{select}",h)}else e=e.replace("{select}","");if(t.searchable){var l="<div class='dataTable-search'><input class='dataTable-input' placeholder='"+t.labels.placeholder+"' type='text'></div>";e=e.replace("{search}",l)}else e=e.replace("{search}","");this.hasHeadings&&i.each(this.headings,function(e,s){if(s.originalCellIndex=s.cellIndex,t.sortable){var a=i.createElement("a",{href:"#",class:"dataTable-sorter",html:s.innerHTML});s.innerHTML="",i.append(s,a)}}),i.addClass(this.table,"dataTable-table");var c=i.createElement("div",{class:"dataTable-pagination"}),p=i.createElement("ul");i.append(c,p),e=e.replace(/\{pager\}/g,c.outerHTML),this.wrapper.innerHTML=e,this.container=this.wrapper.querySelector(".dataTable-container"),this.pagers=this.wrapper.querySelectorAll(".dataTable-pagination"),this.label=this.wrapper.querySelector(".dataTable-info"),this.table.parentNode.replaceChild(this.wrapper,this.table),this.container.appendChild(this.table),this.rect=i.getBoundingRect(this.table),this.rows=[].slice.call(this.body.rows),this.activeRows=this.rows.slice(),this.activeHeadings=this.headings.slice(),this.update(),t.fixedHeight&&d.call(this),this.options.fixedColumns&&this.fixColumns(),n.call(this),r.call(this)},n=function(){var t=this.options;t.header||i.addClass(this.wrapper,"no-header"),t.footer||i.addClass(this.wrapper,"no-footer"),t.sortable&&i.addClass(this.wrapper,"sortable"),t.searchable&&i.addClass(this.wrapper,"searchable"),t.fixedHeight&&i.addClass(this.wrapper,"fixed-height"),t.fixedColumns&&i.addClass(this.wrapper,"fixed-columns")},r=function(){var t=this,e=t.options;if(e.perPageSelect){var s=t.wrapper.querySelector(".dataTable-selector");s&&i.on(s,"change",function(s){e.perPage=parseInt(this.value,10),t.update(),e.fixedHeight&&d.call(t),t.emit("datatable.perpage")})}e.searchable&&(t.input=t.wrapper.querySelector(".dataTable-input"),t.input&&i.on(t.input,"keyup",function(e){t.search(this.value)})),i.on(t.wrapper,"click",function(e){var s=e.target;"a"===s.nodeName.toLowerCase()&&s.hasAttribute("data-page")&&(i.preventDefault(e),t.page(s.getAttribute("data-page")))}),e.sortable&&i.on(t.head,"click",function(e){var s=(e=e||window.event).target;"a"===s.nodeName.toLowerCase()&&i.hasClass(s,"dataTable-sorter")&&(i.preventDefault(e),t.sortColumn(t.activeHeadings.indexOf(s.parentNode)+1))})},h=function(){var t=this.options.perPage,e=this.activeRows;this.searching&&(e=[],i.each(this.searchData,function(t,s){e.push(this.activeRows[s])},this)),this.pages=e.map(function(s,i){return i%t==0?e.slice(i,i+t):null}).filter(function(t){return t}),this.totalPages=this.lastPage=this.pages.length},o=function(){if(this.hasRows&&this.totalPages){this.currentPage>this.totalPages&&(this.currentPage=1);var t=this.currentPage-1,e=i.createFragment();switch(i.flush(this.header,this.isIE),i.each(this.activeHeadings,function(t,e){this.header.appendChild(e)},this),i.each(this.pages[t],function(t,s){e.appendChild(s)},this),this.clear(e),this.onFirstPage=!1,this.onLastPage=!1,this.currentPage){case 1:this.onFirstPage=!0;break;case this.lastPage:this.onLastPage=!0}}var s,a=0,n=0,r=0;if(this.totalPages&&(r=(n=(a=this.currentPage-1)*this.options.perPage)+this.pages[a].length,n+=1,s=this.searching?this.searchData.length:this.rows.length),this.label&&this.options.labels.info.length){var h=this.options.labels.info.replace("{start}",n).replace("{end}",r).replace("{page}",this.currentPage).replace("{pages}",this.totalPages).replace("{rows}",s);this.label.innerHTML=s?h:""}this.options.fixedHeight&&1==this.currentPage&&d.call(this)},l=function(){if(i.flush(this.pagers,this.isIE),this.totalPages>1){var t="pager",e=i.createFragment(),s=this.onFirstPage?1:this.currentPage-1,a=this.onlastPage?this.totalPages:this.currentPage+1;this.options.firstLast&&i.append(e,i.button(t,1,this.options.firstText)),this.options.nextPrev&&i.append(e,i.button(t,s,this.options.prevText));var n=this.links;this.options.truncatePager&&(n=p(this.links,this.currentPage,this.pages.length,this.options.pagerDelta)),i.addClass(this.links[this.currentPage-1],"active"),i.each(n,function(t,s){i.removeClass(s,"active"),i.append(e,s)}),i.addClass(this.links[this.currentPage-1],"active"),this.options.nextPrev&&i.append(e,i.button(t,a,this.options.nextText)),this.options.firstLast&&i.append(e,i.button(t,this.totalPages,this.options.lastText)),i.each(this.pagers,function(t,s){i.append(s,e.cloneNode(!0))})}},c=function(t,e){var s,i;1===e?(s=0,i=t.length):-1===e&&(s=t.length-1,i=-1);for(var a=!0;a;){a=!1;for(var n=s;n!=i;n+=e)if(t[n+e]&&t[n].value>t[n+e].value){var r=t[n],h=t[n+e],o=r;t[n]=h,t[n+e]=o,a=!0}}return t},d=function(){this.container.style.height=null,this.rect=i.getBoundingRect(this.container),this.container.style.height=this.rect.height+"px"},p=function(t,e,s,a){var n,r=2*(a=a||2),h=e-a,o=e+a,l=[],c=[];e<4-a+r?o=3+r:e>s-(3-a+r)&&(h=s-(2+r));for(var d=1;d<=s;d++)if(1==d||d==s||d>=h&&d<=o){var p=t[d-1];i.removeClass(p,"active"),l.push(p)}return i.each(l,function(e,s){var a=s.children[0].getAttribute("data-page");if(n){var r=n.children[0].getAttribute("data-page");if(a-r==2)c.push(t[r]);else if(a-r!=1){var h=i.createElement("li",{class:"ellipsis",html:'<a href="#">&hellip;</a>'});c.push(h)}}c.push(s),n=s}),c},u=function(t){var e=!1,s=!1;if((t=t||this.options.data).headings){e=i.createElement("thead");var a=i.createElement("tr");i.each(t.headings,function(t,e){var s=i.createElement("th",{html:e});a.appendChild(s)}),e.appendChild(a)}t.rows&&(s=i.createElement("tbody"),i.each(t.rows,function(e,a){if(t.headings&&t.headings.length!==a.length)throw new Error("The number of rows do not match the number of headings.");var n=i.createElement("tr");i.each(a,function(t,e){var s=i.createElement("td",{html:e});n.appendChild(s)}),s.appendChild(n)})),e&&(null!==this.table.tHead&&this.table.removeChild(this.table.tHead),i.append(this.table,e)),s&&(this.table.tBodies.length&&this.table.removeChild(this.table.tBodies[0]),i.append(this.table,s))};return e.prototype.get=function(){var t=this.columns;return i.isArray(t)||(t=[]).push(this.columns),t},e.prototype.swap=function(){if(this.columns.length&&2===this.columns.length){var t=[];i.each(this.dt.headings,function(e,s){t.push(e)},this);var e=this.columns[0],s=this.columns[1],a=t[s];t[s]=t[e],t[e]=a,this.order(t)}},e.prototype.order=function(t){var e,s,a,n=[],r=[],h=[],o=[];i.each(t,function(t,s){n.push(this.dt.headings[s].cloneNode(!0)),this.dt.hiddenColumns.indexOf(s)<0&&((e=this.dt.headings[s].cloneNode(!0)).originalCellIndex=t,r.push(e))},this),i.each(this.dt.rows,function(e,n){s=n.cloneNode(),a=n.cloneNode(),null!==n.searchIndex&&void 0!==n.searchIndex&&(s.searchIndex=n.searchIndex,a.searchIndex=n.searchIndex),i.each(t,function(t,e){s.appendChild(n.cells[e].cloneNode(!0)),this.dt.hiddenColumns.indexOf(e)<0&&a.appendChild(n.cells[e].cloneNode(!0))},this),h.push(s),o.push(a)},this),this.dt.headings=n,this.dt.activeHeadings=r,this.dt.rows=h,this.dt.activeRows=o,this.dt.update()},e.prototype.hide=function(){var t=this.get();t.length&&(i.each(t,function(t,e){this.dt.hiddenColumns.indexOf(e)<0&&this.dt.hiddenColumns.push(e)},this),this.rebuild())},e.prototype.show=function(){var t=this.get();if(t.length){var e;i.each(t,function(t,s){(e=this.dt.hiddenColumns.indexOf(s))>-1&&this.dt.hiddenColumns.splice(e,1)},this),this.rebuild()}},e.prototype.visible=function(){var t;return i.isInt(this.columns)?t=this.dt.hiddenColumns.indexOf(this.columns)<0:i.isArray(this.columns)&&(t=[],i.each(this.columns,function(e,s){t.push(this.dt.hiddenColumns.indexOf(s)<0)},this)),t},e.prototype.hidden=function(){var t;return i.isInt(this.columns)?t=this.dt.hiddenColumns.indexOf(this.columns)>-1:i.isArray(this.columns)&&(t=[],i.each(this.columns,function(e,s){t.push(this.dt.hiddenColumns.indexOf(s)>-1)},this)),t},e.prototype.rebuild=function(){var t,e,s=[];this.dt.activeRows=[],this.dt.activeHeadings=[],i.each(this.dt.headings,function(t,e){e.originalCellIndex=t,this.dt.hiddenColumns.indexOf(t)<0&&this.dt.activeHeadings.push(e)},this),i.each(this.dt.rows,function(a,n){t=n.cloneNode(),e=n.cloneNode(),null!==n.searchIndex&&void 0!==n.searchIndex&&(t.searchIndex=n.searchIndex,e.searchIndex=n.searchIndex),i.each(n.cells,function(s,i){t.appendChild(i.cloneNode(!0)),this.dt.hiddenColumns.indexOf(i.cellIndex)<0&&e.appendChild(i.cloneNode(!0))},this),s.push(t),this.dt.activeRows.push(e)},this),this.dt.rows=s,this.dt.update()},s.extend=function(t,e){"function"==typeof e?s.prototype[t]=e:s[t]=e},s.prototype.init=function(t){if(this.initialized||i.hasClass(this.table,"dataTable-table"))return!1;var e=this;this.options=i.extend(this.options,t||{}),this.isIE=!!/(msie|trident)/i.test(navigator.userAgent),this.currentPage=1,this.onFirstPage=!0,this.hiddenColumns=[],a.call(this),this.options.plugins&&i.each(this.options.plugins,function(t,e){this[t](e)},this),setTimeout(function(){e.emit("datatable.init"),e.initialized=!0},10)},s.prototype.destroy=function(){this.options.sortable&&i.each(this.head.rows[0].cells,function(t,e){var s=e.firstElementChild.innerHTML;e.innerHTML=s,e.removeAttribute("style")},this);var t=i.createFragment();i.each(this.rows,function(e,s){t.appendChild(s)},this),this.clear(t),i.removeClass(this.table,"dataTable-table"),this.wrapper.parentNode.replaceChild(this.table,this.wrapper),this.initialized=!1},s.prototype.on=function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},s.prototype.off=function(t,e){this._events=this._events||{},t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)},s.prototype.emit=function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))},s.prototype.update=function(){h.call(this),o.call(this),this.links=[];for(var t=this.pages.length;t--;){var e=t+1;this.links[t]=i.button(0===t?"active":"",e,e)}this.sorting=!1,l.call(this),this.emit("datatable.update")},s.prototype.fixColumns=function(){var t,e=!1;if(this.table.tHead&&this.activeHeadings.length)i.each(this.activeHeadings,function(t,e){e.style.width=""},this),i.each(this.activeHeadings,function(t,e){var s=e.offsetWidth/this.rect.width*100;e.style.width=s+"%"},this);else{t=[],e=i.createElement("thead");var s=i.createElement("tr"),a=this.table.tBodies[0].rows[0].cells;i.each(a,function(e,a){var n=i.createElement("th");s.appendChild(n),t.push(n)}),e.appendChild(s),this.table.insertBefore(e,this.body);var n=[];i.each(t,function(t,e){var s=e.offsetWidth/this.rect.width*100;n.push(s)},this),i.each(this.rows,function(t,e){i.each(e.cells,function(t,e){this.columns(e.cellIndex).visible()&&(e.style.width=n[t]+"%")},this)},this),this.table.removeChild(e)}},s.prototype.search=function(t){if(!this.hasRows)return!1;var e=this;if(t=t.toLowerCase(),this.currentPage=1,this.searching=!0,this.searchData=[],!t.length)return this.searching=!1,this.update(),this.emit("datatable.search",t,this.searchData),i.removeClass(this.wrapper,"search-results"),!1;this.clear(),i.each(this.rows,function(s,a){var n=i.includes(this.searchData,a);t.split(" ").reduce(function(t,s){for(var n=!1,r=0;r<a.cells.length;r++)if(i.includes(a.cells[r].textContent.toLowerCase(),s)&&e.columns(a.cells[r].cellIndex).visible()){n=!0;break}return t&&n},!0)&&!n?(a.searchIndex=s,this.searchData.push(s)):a.searchIndex=null},this),i.addClass(this.wrapper,"search-results"),this.searchData.length||(i.removeClass(this.wrapper,"search-results"),this.setMessage(this.options.labels.noRows)),this.update(),this.emit("datatable.search",t,this.searchData)},s.prototype.page=function(t){return t!=this.currentPage&&(isNaN(t)||(this.currentPage=parseInt(t,10)),!(t>this.pages.length||t<0)&&(o.call(this),l.call(this),void this.emit("datatable.page",t)))},s.prototype.sortColumn=function(t,e){if(t<1||t>this.activeHeadings.length)return!1;this.sorting=!0,t-=1;var s,a=this.rows,n=[],r=[],h=0,o=0,l=this.activeHeadings[t];t=l.originalCellIndex,i.each(a,function(e,s){var a=s.cells[t].textContent,l=a.replace(/(\$|\,|\s|%)/g,"");i.isDate(l)&&(l=Date.parse(l)),parseFloat(l)==l?r[o++]={value:Number(l),row:s}:n[h++]={value:a,row:s}});var d,p;i.hasClass(l,"asc")||"asc"==e?(d=c(n,-1),p=c(r,-1),s="descending",i.removeClass(l,"asc"),i.addClass(l,"desc")):(d=c(r,1),p=c(n,1),s="ascending",i.removeClass(l,"desc"),i.addClass(l,"asc")),this.lastTh&&l!=this.lastTh&&(i.removeClass(this.lastTh,"desc"),i.removeClass(this.lastTh,"asc")),this.lastTh=l,a=d.concat(p),this.rows=[];var u=[];i.each(a,function(t,e){this.rows.push(e.row),null!==e.row.searchIndex&&void 0!==e.row.searchIndex&&u.push(t)},this),this.searchData=u,this.columns().rebuild(),this.update(),this.emit("datatable.sort",t,s)},s.prototype.addRows=function(t){if(!i.isObject(t))throw new Error("Method addRows requires an object.");if(!t.rows)throw new Error("Method addRows requires the 'rows' property.");if(t.headings&&!this.hasHeadings&&!this.hasRows){var e,s=i.createElement("tr");i.each(t.headings,function(t,a){e=i.createElement("th",{html:a}),s.appendChild(e)}),this.head.appendChild(s)}i.each(t.rows,function(t,e){var s=i.createElement("tr");i.each(e,function(t,e){var a=i.createElement("td",{html:e});s.appendChild(a)},this),this.rows.push(s)},this),this.columns().rebuild(),this.hasRows=!0,this.update()},s.prototype.refresh=function(){this.options.searchable&&(this.input.value="",this.searching=!1),this.currentPage=1,this.onFirstPage=!0,this.update(),this.emit("datatable.refresh")},s.prototype.clear=function(t){this.body&&i.flush(this.body,this.isIE);var e=this.body;this.body||(e=this.table),t&&("string"==typeof t?e.innerHTML=t:i.append(e,t))},s.prototype.export=function(t){if(!this.hasHeadings&&!this.hasRows)return!1;var e,s,a,n,r=this.activeHeadings,h=[],o=[],l={download:!0,skipColumn:[],lineDelimiter:"\n",columnDelimiter:",",tableName:"myTable",replacer:null,space:4};if(!i.isObject(t))return!1;if((t=i.extend(l,t)).type){if("txt"!==t.type&&"csv"!==t.type||(h[0]=this.header),t.selection){if(i.isInt(t.selection))h=h.concat(this.pages[t.selection-1]);else if(i.isArray(t.selection))for(e=0;e<t.selection.length;e++)h=h.concat(this.pages[t.selection[e]-1])}else h=h.concat(this.activeRows);if(h.length){if("txt"===t.type||"csv"===t.type){for(a="",e=0;e<h.length;e++){for(s=0;s<h[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&this.columns(h[e].cells[s].cellIndex).visible()&&(a+=h[e].cells[s].textContent+t.columnDelimiter);a=a.trim().substring(0,a.length-1),a+=t.lineDelimiter}a=a.trim().substring(0,a.length-1),t.download&&(a="data:text/csv;charset=utf-8,"+a)}else if("sql"===t.type){for(a="INSERT INTO `"+t.tableName+"` (",e=0;e<r.length;e++)t.skipColumn.indexOf(e)<0&&this.columns(r[e].cellIndex).visible()&&(a+="`"+r[e].textContent+"`,");for(a=a.trim().substring(0,a.length-1),a+=") VALUES ",e=0;e<h.length;e++){for(a+="(",s=0;s<h[e].cells.length;s++)t.skipColumn.indexOf(s)<0&&this.columns(h[e].cells[s].cellIndex).visible()&&(a+='"'+h[e].cells[s].textContent+'",');a=a.trim().substring(0,a.length-1),a+="),"}a=a.trim().substring(0,a.length-1),a+=";",t.download&&(a="data:application/sql;charset=utf-8,"+a)}else if("json"===t.type){for(s=0;s<h.length;s++)for(o[s]=o[s]||{},e=0;e<r.length;e++)t.skipColumn.indexOf(e)<0&&this.columns(h[s].cells[e].cellIndex).visible()&&(o[s][r[e].textContent]=h[s].cells[e].textContent);a=JSON.stringify(o,t.replacer,t.space),t.download&&(a="data:application/json;charset=utf-8,"+a)}return t.download&&(t.filename=t.filename||"datatable_export",t.filename+="."+t.type,a=encodeURI(a),(n=document.createElement("a")).href=a,n.download=t.filename,document.body.appendChild(n),n.click(),document.body.removeChild(n)),a}}return!1},s.prototype.import=function(t){var e=!1,s={lineDelimiter:"\n",columnDelimiter:","};if(!i.isObject(t))return!1;if((t=i.extend(s,t)).data.length){if("csv"===t.type){e={rows:[]};var a=t.data.split(t.lineDelimiter);a.length&&i.each(a,function(s,a){e.rows[s]=[];var n=a.split(t.columnDelimiter);n.length&&i.each(n,function(t,i){e.rows[s].push(i)})})}else if("json"===t.type){var n=i.isJson(t.data);n?(e={headings:[],rows:[]},i.each(n,function(t,s){e.rows[t]=[],i.each(s,function(s,a){i.includes(e.headings,s)||e.headings.push(s),e.rows[t].push(a)})})):console.warn("That's not valid JSON!")}e&&this.addRows(e)}return!1},s.prototype.print=function(){var t=this.activeHeadings,e=this.activeRows,s=i.createElement("table"),a=i.createElement("thead"),n=i.createElement("tbody"),r=i.createElement("tr");i.each(t,function(t,e){r.appendChild(i.createElement("th",{html:e.textContent}))}),a.appendChild(r),i.each(e,function(t,e){var s=i.createElement("tr");i.each(e.cells,function(t,e){s.appendChild(i.createElement("td",{html:e.textContent}))}),n.appendChild(s)}),s.appendChild(a),s.appendChild(n);var h=window.open();h.document.body.appendChild(s),h.print()},s.prototype.setMessage=function(t){var e=1;this.hasRows&&(e=this.rows[0].cells.length),this.clear(i.createElement("tr",{html:'<td class="dataTables-empty" colspan="'+e+'">'+t+"</td>"}))},s.prototype.columns=function(t){return new e(this,t)},s});